language: go
sudo: false

go:
  - 1.8.3

services:
  - docker

install:
  - go get -u github.com/golang/dep/cmd/dep

script:
  - echo $GOPATH
  - make ci-build-twitter-daemon
  - make ci-build-twitter-daemon-mipsle
  - make ci-build-tweet-fail
  - make ci-build-tweet-success
  - docker build -t denismakogon/detect-task:0.0.1 -f serverless/detect-task/Dockerfile serverless/detect-task
  - docker build -t denismakogon/tweet-fail:0.0.1 -f serverless/tweet-fail/Dockerfile serverless/tweet-fail
  - docker build -t denismakogon/tweet-success:0.0.1 -f serverless/tweet-success/Dockerfile serverless/tweet-success
